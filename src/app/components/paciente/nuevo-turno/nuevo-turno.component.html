<div class="formulario">
  <form [formGroup]="form">
    <div class="cobertura">
      <mat-form-field>
        <mat-label>Cobertura</mat-label>
        <input matInput [value]="cobertura?.nombre" readonly>
      </mat-form-field>
    </div>

    <div class="especialidad">
      <mat-form-field>
        <mat-label>Especialidad</mat-label>
        <mat-select formControlName="especialidad" (selectionChange)="cambiarEspecialidad()">
          <mat-option *ngFor="let especialidad of especialidades" [value]="especialidad.id">
            {{ especialidad.descripcion }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="profesional">
      <mat-form-field>
        <mat-label>Profesional</mat-label>
        <mat-select formControlName="profesional" (selectionChange)="cambiarProfesional()">
          <mat-option *ngFor="let profesional of profesionales" [value]="profesional.id_medico">
            {{ profesional.nombre }} {{ profesional.apellido }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="fecha">
      <mat-form-field>
        <mat-label>Fecha</mat-label>
        <input matInput type="date" formControlName="fecha" (blur)="cambiarFechas()">
      </mat-form-field>
    </div>

    <div *ngIf="mensajeNoDisponibilidad" class="mensaje-aviso">
      {{ mensajeNoDisponibilidad }}
    </div>

    <div class="hora">
      <mat-form-field>
        <mat-label>Hora</mat-label>
        <mat-select formControlName="hora" [disabled]="!form.get('fecha')?.value || !form.get('profesional')?.value">
          <mat-option *ngFor="let hora of horasDisponibles" [value]="hora">
            {{ hora }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="notas">
      <mat-form-field>
        <mat-label>Notas</mat-label>
        <input matInput type="text" formControlName="notas">
      </mat-form-field>
    </div>

    <div class="botones">
      <button type="submit" (click)="enviar()">Aceptar</button>
      <button type="button" (click)="botonCancelar()">Cancelar</button>
    </div>
  </form>
</div>